{% extends 'administrator/baseAdmin.html' %}

    {% block title %}
    Teachers
{% endblock %}

{% block Student_active %} class="nav-link active" {% endblock %} 

{% block content %}
<h1 style="text-align: center; ; margin: 50px 50px;">Students</h1> 

<button type="button" class="btn btn-primary btn-lg" style="margin-left:6% ;"><a href="{% url 'administrator:AddStudent' %}" class="text-white text-decoration-none">Add Student</a></button>
<div class="container-fluid pt-3" style="width: 90%;">
<table class="table table-bordered ms-auto mx-auto" id="students">
 <thead>
    <tr>
      <th >Id</th>
      <th >Name</th>
      <th >Email</th>
      <th >Gradian/Parent</th>
      <th >Gender</th>
      <th >Enrollment Date</th>
      <th>Class</th>
      <th >Section</th>
      <th >action</th>
    </tr>
  </thead>
  <tbody>
    {% for student in students %}
    <tr>
      <td>{{ student.id }}</td>
      <td>{{ student.name }}</td>
      <td>{{ student.email_address }}</td>
      <td>{{ student.gardian_or_parent_name }}</td>
      <td>{{ student.gender }}</td>
      <td>{{ student.date_of_enrollment }}</td>
      <td>{{ student.class }}</td>
      <td>{{ student.section }}</td>
      <td>
        <div class="span">
          <a href="{% url 'administrator:UpdateStudent' student.id %}" class="mr-2"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="blue" class="bi bi-pencil-square" viewBox="0 0 16 16">
            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
          </svg></a>
          <a data-bs-toggle="modal" data-bs-target="#staticBackdrop"><svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 448 512" fill="red"><path d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"/></svg></a>
        </div>
      </td>
    </tr>
    <div class="modal fade" id="staticBackdrop"  data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Delete</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            Are you sure you want to delete student?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary"><a href="{% url 'administrator:DeleteStudents' student.id %}" class="text-white text-decoration-none">Yes</a></button>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </tbody>
</table>
</div>


{% endblock %}

{% block script %}
<script>
  $("#students").DataTable({
    paging : true,
    pageLength : 10,
    lengthChange : true,
    autoWidth : true,
    searching : true,
    bInfo : true,
    bSort : true,

    "columnDefs" : [{
      "targets" : [4,8],
      "orderable" : false
    }]
    })
</script>
{% endblock %}